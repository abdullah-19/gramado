;; VBR para a partição de boot no estilo (Microsoft).
;; O volume começa no setor 63 com esse VBR (boot sector do volume).
;; A FAT1 fica no setor 67, a FAT2 fica no setor ??, o root dir fica 
;; no setor 559 a área de dados começa no setor 591.



;;	
;;  ## VBR ##	
;;

;; unsigned char JumpInstruction[3];
db 0xEB, 0x3C, 0x90

;; unsigned char OemName[8];
;; Compatibilidade com host.
db "MSDOS5.0" 
;;db 0x4D, 0x53, 0x44, 0x4F, 0x53, 0x35, 0x2E, 0x30

;; unsigned short BytesPerSector;
;; 0x0200
;;Bytes per Sector. The size of a hardware sector. 
;;For most disks in use in the United States, 
;;the value of this field is 512.
db 0x00, 0x02

;;  unsigned char SectorsPerCluster;
;; Sectors Per Cluster. The number of sectors in a cluster. 
;; The default cluster size for a volume depends on the volume size 
;; and the file system.
db 0x01


;; ? 
;; unsigned short NumberOfReservedSectors;
;; O número de setores reservados que ficam entre o vbr e a primeira fat.
;; Reserved Sectors. The number of sectors from the Partition Boot Sector 
;; to the start of the first file allocation table, 
;; >>>*(INCLUDING) the Partition Boot Sector. <<<
;;The minimum value is 1.  (1+3=4)
;; If the value is greater than 1, it means that the bootstrap code 
;; is too long to fit completely in the Partition Boot Sector.
db 0x04, 0x00 


;; unsigned char NumberOfFATs;
;; Number of file allocation tables (FATs). 
;; The number of copies of the file allocation table on the volume. 
;; Typically, the value of this field is 2.
db 0x02 

;; unsigned short NumberOfRootDirectoryEntries;
;; 0x0200
;; Root Entries. The total number of file name entries 
;; that can be stored in the root folder of the volume. 
;; One entry is always used as a Volume Label. 
;; Files with long filenames use up multiple entries per file. 
;; Therefore, the largest number of files in the root folder is 
;; typically 511, but you will run out of entries sooner if you 
;; use long filenames.
db 0x00, 0x02




;; ??
;; unsigned short TotalSectorCount16;
;; Small Sectors. The number of sectors on the volume if 
;; the number fits in 16 bits (65535). 
;; For volumes larger than 65536 sectors, 
;; this field has a value of 0 and the Large Sectors field is used instead.
;; 0xF8000 = 63488 setores = 31744 KB
;; 0x43FE = 17406 setores  = 8703 KB.
;db 0x00, 0xF8 
db 0xFE, 0x43 

;; ??
;; unsigned char Media;
;; media descriptor. ok.
;; Media Type. Provides information about the media being used. 
;; A value of 0xF8 indicates a hard disk.
db 0xF8

;; ??
;; unsigned short SectorsPerFAT;
;; Sectors per file allocation table (FAT). 
;;Number of sectors occupied by each of the file allocation tables 
;;on the volume. By using this information, together with the 
;;Number of FATs and Reserved Sectors, you can compute where 
;;the root folder begins. By using the number of entries in the root folder, 
;;you can also compute where the user data area of the volume begins.
db 0xF6, 0x00 




;; ??
;; unsigned short SectorsPerTrack;
;; Sectors per Track. The apparent disk geometry in use when 
;;the disk was low-level formatted.
db 0x3F, 0x00 

;; ??
;; unsigned short NumberOfHeads;
;; Number of Heads. The apparent disk geometry in use when 
;;the disk was low-level formatted.
db 0x04, 0x00

;; ??
;; unsigned long NumberOfHiddenSectors;
;; ?? Hidden Sectors. Same as the Relative Sector field in the Partition Table.

db 0x3F, 0x00, 0x00, 0x00 ;;@todo: talvez sejam os 63 escondidos.

;; ??
;; unsigned long TotalSectorCount32;
;; Large Sectors. If the Small Sectors field is zero, 
;;this field contains the total number of sectors in the volume. 
;;If Small Sectors is nonzero, this field contains zero.
db 0x00, 0x00, 0x00, 0x00 



;; unsigned char DriveNumber;
;; Physical Disk Number. This is related to the BIOS physical disk number. 
;;Floppy drives are numbered starting with 0x00 for the A disk. 
;;Physical hard disks are numbered starting with 0x80. 
;;The value is typically 0x80 for hard disks, regardless of how many 
;;physical disk drives exist, because the value is only relevant if 
;;the device is the startup disk.
db 0x80

;; ??
;; unsigned char Reserved1;
;; Current Head. Not used by the FAT file system.
;; @todo: precisa ser 0.
db 0x01

;; unsigned char ExtendedBootSignature;
;; Signature. Must be either 0x28 or 0x29 in
;; order to be recognized by Windows NT.
db 0x29

;; ??
;; #importante
;; unsigned long VolumeSerialNumber;
;; Volume Serial Number. A unique number that is created when you 
;; format the volume.
db 0xE3, 0x50, 0xB1, 0x6E




;; unsigned char VolumeLabel[11];
;; Volume Label. This field was used to store the volume label, 
;; but the volume label is now stored as special file in the root directory.
db  "NORAX   VBR"
;db 0x4E, 0x4F, 0x20, 0x4E, 0x41 
;db 0x4D, 0x45, 0x20, 0x20, 0x20 
;db 0x20, 0x46, 0x41, 0x54

;; unsigned char FileSystemType[8];
;; System ID. Either FAT12 or FAT16, depending on the format of the disk.
db "FAT16   "
;db 0x31, 0x36, 0x20, 0x20
;db 0x20, 0x33, 0xC9, 0x8E


;;
;; ?? Ainda não sei se posso usar outra coisa aqui nessa área de código.
;;


;; unsigned char BootCode[448];
db 0xD1, 0xBC, 0xF0, 0x7B, 0x8E, 0xD9, 0xB8, 0x00, 0x20, 0x8E, 0xC0, 0xFC, 0xBD, 0x00, 0x7C, 0x38 
db 0x4E, 0x24, 0x7D, 0x24, 0x8B, 0xC1, 0x99, 0xE8, 0x3C, 0x01, 0x72, 0x1C, 0x83, 0xEB, 0x3A, 0x66
db 0xA1, 0x1C, 0x7C, 0x26, 0x66, 0x3B, 0x07, 0x26, 0x8A, 0x57, 0xFC, 0x75, 0x06, 0x80, 0xCA, 0x02
db 0x88, 0x56, 0x02, 0x80, 0xC3, 0x10, 0x73, 0xEB, 0x33, 0xC9, 0x8A, 0x46, 0x10, 0x98, 0xF7, 0x66
db 0x16, 0x03, 0x46, 0x1C, 0x13, 0x56, 0x1E, 0x03, 0x46, 0x0E, 0x13, 0xD1, 0x8B, 0x76, 0x11, 0x60
db 0x89, 0x46, 0xFC, 0x89, 0x56, 0xFE, 0xB8, 0x20, 0x00, 0xF7, 0xE6, 0x8B, 0x5E, 0x0B, 0x03, 0xC3
db 0x48, 0xF7, 0xF3, 0x01, 0x46, 0xFC, 0x11, 0x4E, 0xFE, 0x61, 0xBF, 0x00, 0x00, 0xE8, 0xE6, 0x00
db 0x72, 0x39, 0x26, 0x38, 0x2D, 0x74, 0x17, 0x60, 0xB1, 0x0B, 0xBE, 0xA1, 0x7D, 0xF3, 0xA6, 0x61
db 0x74, 0x32, 0x4E, 0x74, 0x09, 0x83, 0xC7, 0x20, 0x3B, 0xFB, 0x72, 0xE6, 0xEB, 0xDC, 0xA0, 0xFB
db 0x7D, 0xB4, 0x7D, 0x8B, 0xF0, 0xAC, 0x98, 0x40, 0x74, 0x0C, 0x48, 0x74, 0x13, 0xB4, 0x0E, 0xBB
db 0x07, 0x00, 0xCD, 0x10, 0xEB, 0xEF, 0xA0, 0xFD, 0x7D, 0xEB, 0xE6, 0xA0, 0xFC, 0x7D, 0xEB, 0xE1
db 0xCD, 0x16, 0xCD, 0x19, 0x26, 0x8B, 0x55, 0x1A, 0x52, 0xB0, 0x01, 0xBB, 0x00, 0x00, 0xE8, 0x3B
db 0x00, 0x72, 0xE8, 0x5B, 0x8A, 0x56, 0x24, 0xBE, 0x0B, 0x7C, 0x8B, 0xFC, 0xC7, 0x46, 0xF0, 0x3D
db 0x7D, 0xC7, 0x46, 0xF4, 0x29, 0x7D, 0x8C, 0xD9, 0x89, 0x4E, 0xF2, 0x89, 0x4E, 0xF6, 0xC6, 0x06
db 0x96, 0x7D, 0xCB, 0xEA, 0x03, 0x00, 0x00, 0x20, 0x0F, 0xB6, 0xC8, 0x66, 0x8B, 0x46, 0xF8, 0x66
db 0x03, 0x46, 0x1C, 0x66, 0x8B, 0xD0, 0x66, 0xC1, 0xEA, 0x10, 0xEB, 0x5E, 0x0F, 0xB6, 0xC8, 0x4A
db 0x4A, 0x8A, 0x46, 0x0D, 0x32, 0xE4, 0xF7, 0xE2, 0x03, 0x46, 0xFC, 0x13, 0x56, 0xFE, 0xEB, 0x4A
db 0x52, 0x50, 0x06, 0x53, 0x6A, 0x01, 0x6A, 0x10, 0x91, 0x8B, 0x46, 0x18, 0x96, 0x92, 0x33, 0xD2
db 0xF7, 0xF6, 0x91, 0xF7, 0xF6, 0x42, 0x87, 0xCA, 0xF7, 0x76, 0x1A, 0x8A, 0xF2, 0x8A, 0xE8, 0xC0
db 0xCC, 0x02, 0x0A, 0xCC, 0xB8, 0x01, 0x02, 0x80, 0x7E, 0x02, 0x0E, 0x75, 0x04, 0xB4, 0x42, 0x8B
db 0xF4, 0x8A, 0x56, 0x24, 0xCD, 0x13, 0x61, 0x61, 0x72, 0x0B, 0x40, 0x75, 0x01, 0x42, 0x03, 0x5E
db 0x0B, 0x49, 0x75, 0x06, 0xF8, 0xC3, 0x41, 0xBB, 0x00, 0x00, 0x60, 0x66, 0x6A, 0x00, 0xEB, 0xB0
db 0x42, 0x4F, 0x4F, 0x54, 0x4D, 0x47, 0x52, 0x20, 0x20, 0x20, 0x20, 0x0D, 0x0A, 0x52, 0x65, 0x6D
db 0x6F, 0x76, 0x61, 0x20, 0x64, 0x69, 0x73, 0x63, 0x6F, 0x73, 0x20, 0x6F, 0x75, 0x80, 0x01, 0x01
db 0x00, 0x04, 0x00, 0x00, 0x00, 0x3F, 0x00, 0x00, 0x00, 0x00, 0x00, 0xF0, 0x01, 0x00, 0x00, 0x00
db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00


;; unsigned short Signature;
db 0x55, 0xAA


